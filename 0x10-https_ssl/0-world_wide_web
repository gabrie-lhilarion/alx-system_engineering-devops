#!/bin/bash

# Function to display information about a subdomain
display_info() {
    local domain=$1
    local subdomain=$2
    local ip

    # If subdomain is not provided, set default subdomains
    if [ -z "$subdomain" ]; then
        subdomain="www lb-01 web-01 web-02"
    fi

    # Loop through each subdomain
    for sub in $subdomain; do
        case $sub in
            www) ip=$(dig +short $domain | head -n1);;
            lb-01|web-01|web-02) ip=$(dig +short $sub.$domain);;
            *) continue;;
        esac

        # Determine the record type
        if [ "$sub" == "www" ]; then
            record_type="CNAME"
        else
            record_type="A"
        fi

        # Display information
        echo "The subdomain $sub is a $record_type record and points to $ip"
    done
}

# Check if the required arguments are provided
if [ $# -lt 1 ]; then
    echo "Usage: $0 <domain> [<subdomain>]"
    exit 1
fi

# Assign arguments to variables
domain=$1
subdomain=$2

# Call the display_info function with the provided arguments
display_info $domain $subdomain
